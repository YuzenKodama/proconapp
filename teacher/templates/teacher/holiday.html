{% extends "teacher/base.html" %}
{% load static %}
{% block contents %}
<!-- month_calendar.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>{{ year }}年{{ month }}月のカレンダー</title>
</head>
<body>
    <h1>{{ year }}年{{ month }}月のカレンダー</h1>

    <!-- フォームを使って一括変更 -->
    <form method="post">
        {% csrf_token %}
        <table border="1">
            <thead>
                <tr>
                    <th>日</th>
                    <th>月</th>
                    <th>火</th>
                    <th>水</th>
                    <th>木</th>
                    <th>金</th>
                    <th>土</th>
                </tr>
            </thead>
            <tbody>
                {% for week in calendar_days %}
                    <tr>
                        {% for day in week %}
                            <td>
                                <label>
                                    <input type="checkbox" name="dates" value="{{ day.date|date:'Y-m-d' }}" {% if day.is_holiday %}checked{% endif %}>
                                    {{ day.date|date:'d' }}<br>
                                    登校時間: {{ day.start_time|time:"H:i" }}<br>
                                    下校時間: {{ day.end_time|time:"H:i" }}
                                </label>
                            </td>
                        {% empty %}
                            <td></td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <button type="submit">変更を保存</button>
    </form>
</body>
</html>

{% endblock %}